!function(t){t.widget("filter.multiple",{options:{showButtonClearFilter:!1,properties:{},onApply:function(t){},onClear:function(t){},setData:function(){}},_create:function(){var t=this;t.isDefaultFilter=!1,t._addButtonClearFilter(),t._setReturnObject(),t._bindContextMenuButtons(),t._bindContextMenu(),t._bindTooltip(),t._bindDefaultFilter()},_bindDefaultFilter:function(){for(var e,i=this,n=i.options.data||[],a=": ",o=-1;e=n.defaultValues[++o];)e.applied&&(i.isDefaultFilter=!0,i.returnObject.value.push({id:e.id}),a+=e.displayName);if(i.isDefaultFilter){var r=t(".wgd-my-search-filter-pluggin span",i.element),l=r.text().split(":");r.text(l[0]+a)}},_addButtonClearFilter:function(){if(this.options.showButtonClearFilter){var e="<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='"+bizagi.localization.getResource("workportal-my-search-remove-filter")+"' style='display:none;'></i>";t(".wgd-my-search-filter-pluggin",this.element).append(e)}},_setReturnObject:function(){this.returnObject={properties:{xpath:this.options.properties.attribute,type:"entity",typeSearch:"exact"},value:[]}},_bindContextMenuButtons:function(){var e=this,i=e.options;t.contextMenu.types.container=function(e,i,n){t('<div id="'+e.id+'" class="menu-container"></div>').appendTo(this)},t.contextMenu.types.contextMenuButtons=function(n,a,o){e.$menuContext=o.$menu;var r='<div class="ui-bizagi-filter-buttons">';r+='<button id="ui-bizagi-cancel-filter" class="bz-wp-btn bz-wp-btn-link type="button">'+i.getResource("workportal-general-button-label-cancel")+"</button>",r+='<button id="ui-bizagi-apply-filter" class="bz-wp-btn bz-wp-btn-primary" type="button" disabled>'+i.getResource("workportal-general-button-label-apply")+"</button>",t(r+="<div>").appendTo(this).on("click","button",function(){t(this).text()==i.getResource("workportal-general-button-label-apply")&&(e._addFilterToDisplayName(),i.onApply([e.returnObject])),o.$menu.trigger("contextmenu:hide")})}},_buildContextMenuItems:function(){var t=this,e=t.options,i={};return!0!==t.options.showButtonClearFilter&&(i.key={name:e.getResource("workportal-my-search-remove-filter"),className:"ui-bizagi-clear-filters",callback:function(){return t._removeFilter(),!0}}),i.container={id:"checks_container_"+e.properties.attribute.replaceAll(".","_"),type:"container"},i.buttons={type:"contextMenuButtons"},i},_bindContextMenu:function(){var e=this,i=e.options,n=t(e.element),a="#"+t(".wgd-my-search-filter-pluggin",n).attr("id"),o=e._buildContextMenuItems();n.click(function(i){t(i.target).hasClass("remove-filter")&&t(".wgd-my-search-filter-pluggin .remove-filter",e.element).is(":visible")?e._removeFilter():t(a).contextMenu()}),n.contextMenu({selector:a,trigger:"none",items:o,events:{show:function(){var n=t("#checks_container_"+i.properties.attribute.replaceAll(".","_"),e.$menuContext);return e._disableApply(),n.empty(),t.when(i.setData()).done(function(t){t=void 0!==t?t.defaultValues:i.data.defaultValues;for(var a,o=-1;a=t[++o];){var r=e.returnObject.value.find(function(t){return t.id==a.id})||a.applied?"checked":"";if(""!=a.id&&""!=a.displayName&&(!e.isDefaultFilter||e.isDefaultFilter&&"checked"===r)){var l="<li>";l+="<input data-displayname='"+a.displayName+"' type='checkbox' value='"+a.id+"' "+r+">",l+="<span class='context-menu-item-label-check'>"+a.displayName+"</span>",l+="</li>",n.append(l)}}e._bindHandlers()})},hide:function(){}}})},_bindTooltip:function(){var e=this;e.filterValue=e.filterValue||[],t(e.element).tooltip({items:"#"+t("div",e.element).attr("id"),content:function(){if(0!==e.filterValue.length){var i=t("<div>");return t.each(e.filterValue,function(e,n){i.append(t("<div><label>"+n+"</label></div>"))}),i}return""}})},_bindHandlers:function(){var e=this;t("input:checkbox",e.$menuContext).on("click",function(i){i.stopImmediatePropagation();var n=t(i.target),a=n.attr("value");if(n.is(":checked"))e.returnObject.value.push({id:a}),e._enableApply();else{var o=e.returnObject.value.find(function(t){return t.id==a});o&&e.returnObject.value.splice(e.returnObject.value.indexOf(o),1),0===e.returnObject.value.length?e._disableApply():e._enableApply()}})},_resetValue:function(){this.returnObject.value=[]},_addFilterToDisplayName:function(){var e=this,i=t(".wgd-my-search-filter-pluggin span",e.element),n=i.text().split(":")[0]+": ",a=e.returnObject.value.length;e.filterValue=[],t("input:checked",e.$menuContext).each(function(){a--,e.filterValue.push(t(this).data("displayname")),n=n+t(this).data("displayname")+(0==a?"":", ")}),i.text(n),t(".wgd-my-search-filter-pluggin .remove-filter",e.element).show()},_setDisplayNameToDefault:function(){var e=t(".wgd-my-search-filter-pluggin span",this.element),i=e.text().split(":");this.isDefaultFilter=!1,this.filterValue=[],e.text(i[0])},_enableApply:function(){var e=t("#ui-bizagi-apply-filter",this.$menuContext);e.removeAttr("disabled"),e.removeClass("ui-state-disabled")},_disableApply:function(){var e=t("#ui-bizagi-apply-filter",this.$menuContext);e.attr("disabled","disabled"),e.addClass("ui-state-disabled")},_removeFilter:function(){var e=this;e.options.onClear([e.returnObject.properties.xpath]),e._setDisplayNameToDefault(),e._resetValue(),t(".wgd-my-search-filter-pluggin .remove-filter",e.element).hide()},setData:function(t){this.options.data=0===Object.getOwnPropertyNames(t).length?this.options.data:t},destroy:function(){t(this.element).contextMenu("destroy"),t.Widget.prototype.destroy.call(this)}})}(jQuery),function($){$.widget("filter.money",{options:{showButtonClearFilter:!1,properties:{},onApply:function(t){},onClear:function(t){},setData:function(){}},_create:function(){var t=this;t.numericFormat=bizagi.clone(bizagi.localization.getResource("numericFormat")),t._addButtonClearFilter(),t._setReturnObject(),t._bindContextMenuButtons(),t._bindContextMenu(),t._bindTooltip(),t._bindHandlers()},_addButtonClearFilter:function(){if(this.options.showButtonClearFilter){var t="<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='"+bizagi.localization.getResource("workportal-my-search-remove-filter")+"' style='display:none;'></i>";$(".wgd-my-search-filter-pluggin",this.element).append(t)}},_setReturnObject:function(){this.returnObject=[{properties:{xpath:this.options.properties.attribute+"@from",type:"money",typeSearch:"range",rangeQuery:"from"}},{properties:{xpath:this.options.properties.attribute+"@to",type:"money",typeSearch:"range",rangeQuery:"to"}}]},_bindContextMenuButtons:function(){var t=this,e=t.options;$.contextMenu.types.contextMenuButtons=function(i,n,a){t.$menuContext=a.$menu;var o='<div class="ui-bizagi-filter-buttons">';o+='<button id="ui-bizagi-cancel-filter" class="bz-wp-btn bz-wp-btn-link" type="button">'+e.getResource("workportal-general-button-label-cancel")+"</button>",o+='<button id="ui-bizagi-apply-filter" class="bz-wp-btn bz-wp-btn-primary" type="button">'+e.getResource("workportal-general-button-label-apply")+"</button>",$(o+="<div>").appendTo(this).on("click","button",function(){$(this).text()==e.getResource("workportal-general-button-label-apply")&&(t._setValue(),t._addFilterToDisplayName(),e.onApply(t.returnObject,t.element)),a.$menu.trigger("contextmenu:hide")})}},_bindContextMenu:function(){var t=this,e=t.options,i=$(t.element),n="#"+$(".wgd-my-search-filter-pluggin",i).attr("id");i.on("click",function(e){$(e.target).hasClass("remove-filter")&&$(".wgd-my-search-filter-pluggin .remove-filter",t.element).is(":visible")?t._removeFilter():$(n).contextMenu()});var a={selector:n,trigger:"none",items:{key:{name:e.getResource("workportal-my-search-remove-filter"),className:"ui-bizagi-clear-filters",callback:function(){return t._removeFilter(),!0}},min:{name:e.getResource("bz-rp-components-time-from-label"),type:"text",className:"ui-bizagi-money-filter-min"},max:{name:e.getResource("bz-rp-components-time-to-label"),type:"text",className:"ui-bizagi-money-filter-max"},notification:{name:e.getResource("workportal-my-search-limit-notification"),className:"ui-bizagi-money-filter-notification"},buttons:{type:"contextMenuButtons"}},events:{show:function(){return $.when(t.options.setData()).done(function(i){var n=$('<input type="text">');t.options.data=void 0!==i?i:t.options.data,n.val(t.options.data.min),n.formatCurrency(t._getFormatOptions()),$(".ui-bizagi-money-filter-min span",t.$menuContext).html(e.getResource("bz-rp-components-time-from-label")+" (<span class='select-value'>"+n.val()+"</span>):"),n.val(t.options.data.max),n.formatCurrency(t._getFormatOptions()),$(".ui-bizagi-money-filter-max span",t.$menuContext).html(e.getResource("bz-rp-components-time-to-label")+" (<span class='select-value'>"+n.val()+"</span>):"),t._enableNotification(!1);var a=$(".ui-bizagi-money-filter-min .select-value",t.$menuContext),o=$(".ui-bizagi-money-filter-max .select-value",t.$menuContext);a.on("click",$.proxy(t._onClickMinValue,t)),o.on("click",$.proxy(t._onClickMaxValue,t))})},hide:function(){t.removeHandlersValuesMinMax()}}};!0===t.options.showButtonClearFilter&&(a.items.key=void 0),i.contextMenu(a)},_bindTooltip:function(){var t=this;$(t.element).tooltip({items:"#"+$("div",t.element).attr("id"),content:function(){return t.filterValue}})},_setDisplayValue:function(){var t=this,e=void 0===t.returnObject[0].value?"":t.returnObject[0].value,i=void 0===t.returnObject[1].value?"":t.returnObject[1].value;$(".ui-bizagi-money-filter-min input",t.$menuContext).val(e),$(".ui-bizagi-money-filter-max input",t.$menuContext).val(i),$(".ui-bizagi-money-filter-min input",t.$menuContext).formatCurrency(t._getFormatOptions()),$(".ui-bizagi-money-filter-max input",t.$menuContext).formatCurrency(t._getFormatOptions())},_setFormatValue:function(t){var e=this._getObjectValueByString(t.val());0!==e&&(t.val(e),t.formatCurrency(this._getFormatOptions()))},_getObjectValueByString:function(stringValue,asFloatType){var self=this,value=stringValue,regexString="/["+self.numericFormat.symbol+self.numericFormat.digitGroupSymbol+"]/g",regex=eval(regexString);return value=value.replace(regex,""),asFloatType&&(value=value.replace(",","."),value=parseFloat(value)),value},_addFilterToDisplayName:function(){var t=this,e=$(".ui-bizagi-money-filter-min input",t.$menuContext).val(),i=$(".ui-bizagi-money-filter-max input",t.$menuContext).val(),n=$(".wgd-my-search-filter-pluggin span",t.element),a=n.text().split(":");t.filterValue=e+" "+t.options.getResource("bz-rp-components-time-to-label")+" "+i,n.text(a[0]+": "+t.filterValue),$(".wgd-my-search-filter-pluggin .remove-filter",t.element).show()},_setDisplayNameToDefault:function(){var t=$(".wgd-my-search-filter-pluggin span",this.element),e=t.text().split(":");this.filterValue="",t.text(e[0])},_setValue:function(){var t=this,e=t._getObjectValueByString($(".ui-bizagi-money-filter-min input",t.$menuContext).val(),!0),i=t._getObjectValueByString($(".ui-bizagi-money-filter-max input",t.$menuContext).val(),!0);t.returnObject[0].value=""===e?i:e,t.returnObject[1].value=""===i?e:i},_resetValue:function(){this._setReturnObject(),$(".ui-bizagi-money-filter-min input",this.$menuContext).val(""),$(".ui-bizagi-money-filter-max input",this.$menuContext).val("")},_bindHandlers:function(){var t=this,e=t.options,i=$(".ui-bizagi-money-filter-min input",t.$menuContext),n=$(".ui-bizagi-money-filter-max input",t.$menuContext);i.keyup(function(){if($(this).val()){var i=t._getObjectValueByString($(".ui-bizagi-money-filter-max input",t.$menuContext).val(),!0),n=t._getObjectValueByString($(this).val(),!0),a=!!isNaN(n)||n<parseFloat(e.data.min),o=!!isNaN(i)||i>parseFloat(e.data.max),r=n>i;t._checkNotification(a,o,r),t._setFormatValue($(this))}}),n.keyup(function(){if($(this).val()){var i=t._getObjectValueByString($(this).val(),!0),n=t._getObjectValueByString($(".ui-bizagi-money-filter-min input",t.$menuContext).val(),!0),a=!!isNaN(n)||n<parseFloat(e.data.min),o=!!isNaN(i)||i>parseFloat(e.data.max),r=n>i;t._checkNotification(a,o,r),t._setFormatValue($(this))}})},_onClickMinValue:function(t){var e=$(".ui-bizagi-money-filter-min input",this.$menuContext);e.val($(t.target).text()),e.keyup()},_onClickMaxValue:function(t){var e=$(".ui-bizagi-money-filter-max input",this.$menuContext);e.val($(t.target).text()),e.keyup()},_checkNotification:function(t,e,i){var n=this.options;if(i||t||e){var a=n.getResource("workportal-my-search-limit-notification");t?a=n.getResource("workportal-my-search-lower-limit-notification"):e?a=n.getResource("workportal-my-search-upper-limit-notification"):i&&(a=n.getResource("workportal-my-search-max-min-notification")),this._enableNotification(!0,a)}else this._disableNotification()},_enableNotification:function(t,e){var i=this;t?($(".ui-bizagi-money-filter-notification span",i.$menuContext).text(e),$(".ui-bizagi-money-filter-notification",i.$menuContext).show()):$(".ui-bizagi-money-filter-notification",i.$menuContext).hide(),$("#ui-bizagi-apply-filter",i.$menuContext).attr("disabled","disabled"),$("#ui-bizagi-apply-filter",i.$menuContext).addClass("ui-state-disabled")},_disableNotification:function(){$(".ui-bizagi-money-filter-notification",this.$menuContext).hide(),$("#ui-bizagi-apply-filter",this.$menuContext).removeAttr("disabled"),$("#ui-bizagi-apply-filter",this.$menuContext).removeClass("ui-state-disabled")},_getFormatOptions:function(){return formatOptions={symbol:"",roundToDecimalPlace:-1,eventOnDecimalsEntered:!0,digitGroupSymbol:this.numericFormat.digitGroupSymbol,decimalSymbol:this.numericFormat.decimalSymbol}},_removeFilter:function(){var t=this;t._resetValue(),t._enableNotification(!1),t._setDisplayNameToDefault(),t.options.onClear([t.returnObject[0].properties.xpath,t.returnObject[1].properties.xpath]),$(".wgd-my-search-filter-pluggin .remove-filter",t.element).hide()},setData:function(t){this.options.data=0===Object.getOwnPropertyNames(t).length?this.options.data:t},removeHandlersValuesMinMax:function(){var t=this,e=$(".ui-bizagi-money-filter-min .select-value",t.$menuContext),i=$(".ui-bizagi-money-filter-max .select-value",t.$menuContext);e.off("click",$.proxy(t._onClickMinValue,t)),i.off("click",$.proxy(t._onClickMaxValue,t))},destroy:function(){this.removeHandlersValuesMinMax(),$(this.element).contextMenu("destroy"),$.Widget.prototype.destroy.call(this)}})}(jQuery),function($){$.widget("filter.number",{options:{showButtonClearFilter:!1,properties:{},onApply:function(t){},onClear:function(t){},setData:function(){}},_create:function(){var t=this;t.numericFormat=bizagi.clone(bizagi.localization.getResource("numericFormat")),t._addButtonClearFilter(),t._setReturnObject(),t._bindContextMenuButtons(),t._bindContextMenu(),t._bindTooltip(),t._bindHandlers()},_addButtonClearFilter:function(){if(this.options.showButtonClearFilter){var t="<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='"+bizagi.localization.getResource("workportal-my-search-remove-filter")+"' style='display:none;'></i>";$(".wgd-my-search-filter-pluggin",this.element).append(t)}},_setReturnObject:function(){this.returnObject=[{properties:{xpath:this.options.properties.attribute+"@from",type:"number",typeSearch:"range",rangeQuery:"from"}},{properties:{xpath:this.options.properties.attribute+"@to",type:"number",typeSearch:"range",rangeQuery:"to"}}]},_bindContextMenuButtons:function(){var t=this,e=t.options;$.contextMenu.types.contextMenuButtons=function(i,n,a){t.$menuContext=a.$menu;var o='<div class="ui-bizagi-filter-buttons">';o+='<button id="ui-bizagi-cancel-filter" class="bz-wp-btn bz-wp-btn-link" type="button">'+e.getResource("workportal-general-button-label-cancel")+"</button>",o+='<button id="ui-bizagi-apply-filter" class="bz-wp-btn bz-wp-btn-primary" type="button">'+e.getResource("workportal-general-button-label-apply")+"</button>",$(o+="<div>").appendTo(this).on("click","button",function(){$(this).text()==e.getResource("workportal-general-button-label-apply")&&(t._setValue(),t._addFilterToDisplayName(),e.onApply(t.returnObject)),a.$menu.trigger("contextmenu:hide")})}},_bindContextMenu:function(){var t=this,e=t.options,i=$(t.element),n="#"+$(".wgd-my-search-filter-pluggin",i).attr("id");i.on("click",function(e){$(e.target).hasClass("remove-filter")&&$(".wgd-my-search-filter-pluggin .remove-filter",t.element).is(":visible")?t._removeFilter():$(n).contextMenu()});var a={selector:n,trigger:"none",items:{key:{name:e.getResource("workportal-my-search-remove-filter"),className:"ui-bizagi-clear-filters",callback:function(){return t._removeFilter(),!0}},min:{name:e.getResource("bz-rp-components-time-from-label"),type:"text",className:"ui-bizagi-number-filter-min"},max:{name:e.getResource("bz-rp-components-time-to-label"),type:"text",className:"ui-bizagi-number-filter-max"},notification:{name:e.getResource("workportal-my-search-limit-notification"),className:"ui-bizagi-number-filter-notification"},buttons:{type:"contextMenuButtons"}},events:{show:function(){return $.when(t.options.setData()).done(function(i){var n=$('<input type="text">');t.options.data=void 0!==i?i:t.options.data,n.val(t.options.data.min),n.formatCurrency(t._getFormatOptions()),$(".ui-bizagi-number-filter-min span",t.$menuContext).html(e.getResource("bz-rp-components-time-from-label")+" (<span class='select-value'>"+n.val()+"</span>):"),n.val(t.options.data.max),n.formatCurrency(t._getFormatOptions()),$(".ui-bizagi-number-filter-max span",t.$menuContext).html(e.getResource("bz-rp-components-time-to-label")+" (<span class='select-value'>"+n.val()+"</span>):"),t._enableNotification(!1);var a=$(".ui-bizagi-number-filter-min .select-value",t.$menuContext),o=$(".ui-bizagi-number-filter-max .select-value",t.$menuContext);a.on("click",$.proxy(t._onClickMinValue,t)),o.on("click",$.proxy(t._onClickMaxValue,t))})},hide:function(){t.removeHandlersValuesMinMax()}}};!0===t.options.showButtonClearFilter&&(a.items.key=void 0),i.contextMenu(a)},_bindTooltip:function(){var t=this;$(t.element).tooltip({items:"#"+$("div",t.element).attr("id"),content:function(){return t.filterValue}})},_setDisplayValue:function(){var t=this,e=void 0===t.returnObject[0].value?"":t.returnObject[0].value,i=void 0===t.returnObject[1].value?"":t.returnObject[1].value;$(".ui-bizagi-number-filter-min input",t.$menuContext).val(e),$(".ui-bizagi-number-filter-max input",t.$menuContext).val(i),$(".ui-bizagi-number-filter-min input",t.$menuContext).formatCurrency(t._getFormatOptions()),$(".ui-bizagi-number-filter-max input",t.$menuContext).formatCurrency(t._getFormatOptions())},_setFormatValue:function(t){var e=this._getObjectValueByString(t.val());0!==e&&(t.val(e),t.formatCurrency(this._getFormatOptions()))},_getObjectValueByString:function(stringValue,asFloatType){var self=this,value=stringValue,regexString="/["+self.numericFormat.symbol+self.numericFormat.digitGroupSymbol+"]/g",regex=eval(regexString);return value=value.replace(regex,""),asFloatType&&(value=value.replace(",","."),value=parseFloat(value)),value},_addFilterToDisplayName:function(){var t=this,e=$(".ui-bizagi-number-filter-min input",t.$menuContext).val(),i=$(".ui-bizagi-number-filter-max input",t.$menuContext).val(),n=$(".wgd-my-search-filter-pluggin span",t.element),a=n.text().split(":");t.filterValue=e+" "+t.options.getResource("bz-rp-components-time-to-label")+" "+i,n.text(a[0]+": "+t.filterValue),$(".wgd-my-search-filter-pluggin .remove-filter",t.element).show()},_setDisplayNameToDefault:function(){var t=$(".wgd-my-search-filter-pluggin span",this.element),e=t.text().split(":");this.filterValue="",t.text(e[0])},_setValue:function(){var t=this,e=t._getObjectValueByString($(".ui-bizagi-number-filter-min input",t.$menuContext).val(),!0),i=t._getObjectValueByString($(".ui-bizagi-number-filter-max input",t.$menuContext).val(),!0);t.returnObject[0].value=""===e?i:e,t.returnObject[1].value=""===i?e:i},_resetValue:function(){this._setReturnObject(),$(".ui-bizagi-number-filter-min input",this.$menuContext).val(""),$(".ui-bizagi-number-filter-max input",this.$menuContext).val("")},_bindHandlers:function(){var t=this,e=t.options,i=$(".ui-bizagi-number-filter-min input",t.$menuContext),n=$(".ui-bizagi-number-filter-max input",t.$menuContext);i.keyup(function(){if($(this).val()){var i=t._getObjectValueByString($(".ui-bizagi-number-filter-max input",t.$menuContext).val(),!0),n=t._getObjectValueByString($(this).val(),!0),a=!!isNaN(n)||n<parseFloat(e.data.min),o=!!isNaN(i)||i>parseFloat(e.data.max),r=n>i;t._checkNotification(a,o,r),t._setFormatValue($(this))}}),n.keyup(function(){if($(this).val()){var i=t._getObjectValueByString($(this).val(),!0),n=t._getObjectValueByString($(".ui-bizagi-number-filter-min input",t.$menuContext).val(),!0),a=!!isNaN(n)||n<parseFloat(e.data.min),o=!!isNaN(i)||i>parseFloat(e.data.max),r=n>i;t._checkNotification(a,o,r),t._setFormatValue($(this))}})},_onClickMinValue:function(t){var e=$(".ui-bizagi-number-filter-min input",this.$menuContext);e.val($(t.target).text()),e.keyup()},_onClickMaxValue:function(t){var e=$(".ui-bizagi-number-filter-max input",this.$menuContext);e.val($(t.target).text()),e.keyup()},_checkNotification:function(t,e,i){var n=this.options;if(i||t||e){var a=n.getResource("workportal-my-search-limit-notification");t?a=n.getResource("workportal-my-search-lower-limit-notification"):e?a=n.getResource("workportal-my-search-upper-limit-notification"):i&&(a=n.getResource("workportal-my-search-max-min-notification")),this._enableNotification(!0,a)}else this._disableNotification()},_enableNotification:function(t,e){var i=this;t?($(".ui-bizagi-number-filter-notification span",i.$menuContext).text(e),$(".ui-bizagi-number-filter-notification",i.$menuContext).show()):$(".ui-bizagi-number-filter-notification",i.$menuContext).hide(),$("#ui-bizagi-apply-filter",i.$menuContext).attr("disabled","disabled"),$("#ui-bizagi-apply-filter",i.$menuContext).addClass("ui-state-disabled")},_disableNotification:function(){$(".ui-bizagi-number-filter-notification",this.$menuContext).hide(),$("#ui-bizagi-apply-filter",this.$menuContext).removeAttr("disabled"),$("#ui-bizagi-apply-filter",this.$menuContext).removeClass("ui-state-disabled")},_getFormatOptions:function(){return formatOptions={symbol:"",roundToDecimalPlace:-1,eventOnDecimalsEntered:!0,digitGroupSymbol:this.numericFormat.digitGroupSymbol,decimalSymbol:this.numericFormat.decimalSymbol}},_removeFilter:function(){var t=this;t._resetValue(),t._enableNotification(!1),t._setDisplayNameToDefault(),t.options.onClear([t.returnObject[0].properties.xpath,t.returnObject[1].properties.xpath]),$(".wgd-my-search-filter-pluggin .remove-filter",t.element).hide()},setData:function(t){this.options.data=0===Object.getOwnPropertyNames(t).length?this.options.data:t},removeHandlersValuesMinMax:function(){var t=this,e=$(".ui-bizagi-number-filter-min .select-value",t.$menuContext),i=$(".ui-bizagi-number-filter-max .select-value",t.$menuContext);e.off("click",$.proxy(t._onClickMinValue,t)),i.off("click",$.proxy(t._onClickMaxValue,t))},destroy:function(){this.removeHandlersValuesMinMax(),$(this.element).contextMenu("destroy"),$.Widget.prototype.destroy.call(this)}})}(jQuery),function(t){t.widget("filter.dateFilter",{options:{showButtonClearFilter:!1,properties:{},onApply:function(t){},onClear:function(t){},setData:function(){}},_create:function(){var t=this;t._addButtonClearFilter(),t._setReturnObject(),t._bindContextMenuButtons(),t._bindContextMenu(),t._bindTooltip(),t._bindHandlers()},_addButtonClearFilter:function(){if(this.options.showButtonClearFilter){var e="<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='"+bizagi.localization.getResource("workportal-my-search-remove-filter")+"' style='display:none;'></i>";t(".wgd-my-search-filter-pluggin",this.element).append(e)}},_setReturnObject:function(){var t=this.options.properties.attribute;this.returnObject=[{properties:{xpath:t+"@from",type:"date",typeSearch:"range",rangeQuery:"from"}},{properties:{xpath:t+"@to",type:"date",typeSearch:"range",rangeQuery:"to"}}]},_bindContextMenuButtons:function(){var e=this,i=e.options;t.contextMenu.types.contextMenuButtons=function(n,a,o){e.$menuContext=o.$menu;var r='<div class="ui-bizagi-filter-buttons">';r+='<button id="ui-bizagi-cancel-filter" class="bz-wp-btn bz-wp-btn-link" type="button">'+i.getResource("workportal-general-button-label-cancel")+"</button>",r+='<button id="ui-bizagi-apply-filter" class="bz-wp-btn bz-wp-btn-primary" type="button">'+i.getResource("workportal-general-button-label-apply")+"</button>",t(r+="<div>").appendTo(this).on("click","button",function(){t(this).text()==i.getResource("workportal-general-button-label-apply")&&(e._setValuesOfReturnObject(),e._setDisplayTitle(!1),i.onApply(e.returnObject,e.element)),o.$menu.trigger("contextmenu:hide")})}},_bindContextMenu:function(){var e=this,i=e.options,n=t(e.element),a="#"+t(".wgd-my-search-filter-pluggin",n).attr("id");n.on("click",function(i){t(i.target).hasClass("remove-filter")&&t(".wgd-my-search-filter-pluggin .remove-filter",e.element).is(":visible")?e._removeFilter():t(a).contextMenu()});var o={selector:a,trigger:"none",items:{key:{name:i.getResource("workportal-my-search-remove-filter"),className:"ui-bizagi-clear-filters",callback:function(){return e._removeFilter(),!0}},from:{name:i.getResource("bz-rp-components-time-from-label"),type:"text",className:"ui-bizagi-date-filter-from"},to:{name:i.getResource("bz-rp-components-time-to-label"),type:"text",className:"ui-bizagi-date-filter-to"},buttons:{type:"contextMenuButtons"}},events:{show:function(){e._disableApply(),e._setDisplayLabels()},hide:function(){e._getFromControl().datepicker("hide"),e._getToControl().datepicker("hide")}}};!0===e.options.showButtonClearFilter&&(o.items.key=void 0),n.contextMenu(o)},_bindTooltip:function(){var e=this;t(e.element).tooltip({items:"#"+t("div",e.element).attr("id"),content:function(){return e.filterValue}})},_bindHandlers:function(){var t=this,e=t._getFromControl(),i=t._getToControl(),n=new Date(t._getDateFromInvariant(t.options.properties.data.min)),a=new Date(t._getDateFromInvariant(t.options.properties.data.max)),o=bizagi.util.dateFormatter.getDateFormatByDatePickerJqueryUI().toLowerCase();e.datepicker({defaultDate:n,dateFormat:o,changeMonth:!0,changeYear:!0,numberOfMonths:1,yearRange:"-100:+0",minDate:n,maxDate:a,onClose:function(e){e?(i.datepicker("option","minDate",e),i.datepicker("getDate")&&t._enableApply()):t._disableApply()}}),i.datepicker({defaultDate:a,dateFormat:o,changeMonth:!0,changeYear:!0,numberOfMonths:1,yearRange:"-100:+0",minDate:n,maxDate:a,onSelect:function(i){i?(e.datepicker("option","maxDate",i),e.datepicker("getDate")&&t._enableApply()):t._disableApply()}})},_resetValues:function(){this._getFromControl().datepicker("setDate",null),this._getToControl().datepicker("setDate",null),this._setReturnObject(),this._disableApply()},_setValuesOfReturnObject:function(){var t=this._getFromControl().datepicker("getDate"),e=this._getToControl().datepicker("getDate"),i=bizagi.util.dateFormatter;this.returnObject[0].value=null!==t?i.formatInvariant(t,!1):i.formatInvariant(e,!1),this.returnObject[1].value=null!==e?i.formatInvariant(e,!1):i.formatInvariant(t,!1)},_setDisplayTitle:function(e){var i=this,n=t(".wgd-my-search-filter-pluggin span",i.element),a=n.text().split(":");if(e)i.filterValue="",n.text(a[0]);else{var o=i.options,r=i._getDateFromInvariant(i.returnObject[0].value),l=i._getDateFromInvariant(i.returnObject[1].value);i.filterValue=i._formatDate(r,o.getResource("dateFormat"))+" "+o.getResource("bz-rp-components-time-to-label")+" "+i._formatDate(l,o.getResource("dateFormat")),n.text(a[0]+": "+i.filterValue)}t(".wgd-my-search-filter-pluggin .remove-filter",i.element).show()},_setDisplayLabels:function(){var e=this,i=e.options,n=e._getDateFromInvariant(e.options.properties.data.min),a=e._getDateFromInvariant(e.options.properties.data.max);t(".ui-bizagi-date-filter-from span",e.$menuContext).text(i.getResource("bz-rp-components-time-from-label")+" ("+e._formatDate(n,i.getResource("dateFormat"))+"):"),t(".ui-bizagi-date-filter-to span",e.$menuContext).text(i.getResource("bz-rp-components-time-to-label")+" ("+e._formatDate(a,i.getResource("dateFormat"))+"):")},_enableApply:function(){var e=t("#ui-bizagi-apply-filter",this.$menuContext);e.removeAttr("disabled"),e.removeClass("ui-state-disabled")},_disableApply:function(){var e=t("#ui-bizagi-apply-filter",this.$menuContext);e.attr("disabled","disabled"),e.addClass("ui-state-disabled")},_formatDate:function(t,e){return bizagi.util.dateFormatter.formatDate(t,e)},_getFromControl:function(){return t(".ui-bizagi-date-filter-from input",this.$menuContext)},_getToControl:function(){return t(".ui-bizagi-date-filter-to input",this.$menuContext)},_getDateFromInvariant:function(t){return bizagi.util.dateFormatter.getDateFromInvariant(t)},_removeFilter:function(){var e=this;e.options.onClear([e.returnObject[0].properties.xpath,e.returnObject[1].properties.xpath]),e._setDisplayTitle(!0),e._resetValues(),t(".wgd-my-search-filter-pluggin .remove-filter",e.element).hide()},setData:function(t){var e=this;e.options.properties.data=0===Object.getOwnPropertyNames(t).length?e.options.properties.data:t;var i=e._getFromControl(),n=e._getToControl(),a=new Date(e._getDateFromInvariant(e.options.properties.data.min)),o=new Date(e._getDateFromInvariant(e.options.properties.data.max));i.datepicker("option","minDate",a),i.datepicker("option","maxDate",o),n.datepicker("option","minDate",a),n.datepicker("option","maxDate",o)},destroy:function(){t(this.element).contextMenu("destroy"),t.Widget.prototype.destroy.call(this)}})}(jQuery),function(t){t.widget("filter.textFilter",{options:{showButtonClearFilter:!1,properties:{},onApply:function(t){},onClear:function(t){}},_create:function(){var t=this;t._addButtonClearFilter(),t._setReturnObject(),t._bindContextMenuButtons(),t._bindContextMenu(),t._bindHandlers()},_addButtonClearFilter:function(){if(this.options.showButtonClearFilter){var e="<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='"+bizagi.localization.getResource("workportal-my-search-remove-filter")+"' style='display:none;'></i>";t(".wgd-my-search-filter-pluggin",this.element).append(e)}},_bindContextMenuButtons:function(){var e=this,i=e.options;t.contextMenu.types.contextMenuButtons=function(n,a,o){e.$menuContext=o.$menu;var r='<div class="ui-bizagi-filter-buttons">';r+='<button id="ui-bizagi-cancel-filter" class="bz-wp-btn bz-wp-btn-link" type="button">'+i.getResource("workportal-general-button-label-cancel")+"</button>",r+='<button id="ui-bizagi-apply-filter" class="bz-wp-btn bz-wp-btn-primary" type="button">'+i.getResource("workportal-general-button-label-apply")+"</button>",t(r+="<div>").appendTo(this).on("click","button",function(){t(this).text()==i.getResource("workportal-general-button-label-apply")&&(e._setValue(),e._setFilterToDisplayName(),i.onApply(e.returnObject,e.element)),o.$menu.trigger("contextmenu:hide")})}},_bindContextMenu:function(){var e=this,i=e.options,n=t(".wgd-my-search-filter-pluggin",e.element),a="#"+n.attr("id");n.on("click",function(i){t(i.target).hasClass("remove-filter")&&t(".wgd-my-search-filter-pluggin .remove-filter",e.element).is(":visible")?e._removeFilter():t(a).contextMenu()});var o={selector:a,trigger:"none",items:{key:{name:i.getResource("workportal-my-search-remove-filter"),className:"ui-bizagi-clear-filters",callback:function(){return e._removeFilter(),!0}},min:{name:i.getResource("workportal-my-search-text"),type:"text",className:"ui-bizagi-text-filter"},buttons:{type:"contextMenuButtons"}},events:{show:function(){e._disableApply()},hide:function(){}}};!0===e.options.showButtonClearFilter&&(o.items.key=void 0),t(e.element).contextMenu(o)},_getTextControl:function(){return t(".ui-bizagi-text-filter input",this.$menuContext)},_bindHandlers:function(){var e=this;e._getTextControl().keyup(function(){t(this).val()&&0!=t(this).val().indexOf(" ")?e._enableApply():e._disableApply()})},_setReturnObject:function(){this.returnObject={properties:{xpath:this.options.properties.attribute,type:"text",typeSearch:"approx"}}},_resetValue:function(){this._setReturnObject(),this._disableApply(),this._getTextControl().val("")},_setValue:function(){var t=this._getTextControl().val();t&&(this.returnObject.value=t)},_enableApply:function(){var e=t("#ui-bizagi-apply-filter",this.$menuContext);e.removeAttr("disabled"),e.removeClass("ui-state-disabled")},_disableApply:function(){var e=t("#ui-bizagi-apply-filter",this.$menuContext);e.attr("disabled","disabled"),e.addClass("ui-state-disabled")},_setFilterToDisplayName:function(){var e=t(".wgd-my-search-filter-pluggin span",this.element),i=e.text().split(":");e.text(i[0]+": "+this.returnObject.value),t(".wgd-my-search-filter-pluggin .remove-filter",this.element).show()},_setDisplayNameToDefault:function(){var e=t(".wgd-my-search-filter-pluggin span",this.element),i=e.text().split(":");e.text(i[0])},_removeFilter:function(){var e=this;e._resetValue();var i=[e.returnObject.properties.xpath];e._setDisplayNameToDefault(),e.options.onClear(i),t(".wgd-my-search-filter-pluggin .remove-filter",e.element).hide()},setData:function(t){console.log(t)},destroy:function(){t(this.element).contextMenu("destroy"),t.Widget.prototype.destroy.call(this)}})}(jQuery),function(t){t.widget("filter.booleanFilter",{options:{showButtonClearFilter:!1,properties:{},onApply:function(t){},onClear:function(t){},setData:function(){}},_create:function(){var t=this;t._addButtonClearFilter(),t._setReturnObject(),t._bindContextMenuButtons(),t._bindContextMenu(),t._bindTooltip()},_addButtonClearFilter:function(){if(this.options.showButtonClearFilter){var e="<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='"+bizagi.localization.getResource("workportal-my-search-remove-filter")+"' style='display:none;'></i>";t(".wgd-my-search-filter-pluggin",this.element).append(e)}},_setReturnObject:function(){this.returnObject={properties:{xpath:this.options.properties.attribute,type:"boolean",typeSearch:"exact"},value:[]}},_bindContextMenuButtons:function(){var e=this,i=e.options;t.contextMenu.types.container=function(e,i,n){t('<div id="'+e.id+'" class="menu-container"></div>').appendTo(this)},t.contextMenu.types.contextMenuButtons=function(n,a,o){e.$menuContext=o.$menu;var r='<div class="ui-bizagi-filter-buttons">';r+='<button id="ui-bizagi-cancel-filter" class="bz-wp-btn bz-wp-btn-link type="button">'+i.getResource("workportal-general-button-label-cancel")+"</button>",r+='<button id="ui-bizagi-apply-filter" class="bz-wp-btn bz-wp-btn-primary" type="button" disabled>'+i.getResource("workportal-general-button-label-apply")+"</button>",t(r+="<div>").appendTo(this).on("click","button",function(){t(this).text()==i.getResource("workportal-general-button-label-apply")&&(e._addFilterToDisplayName(),i.onApply([e.returnObject],e.element)),o.$menu.trigger("contextmenu:hide")})}},_buildContextMenuItems:function(){var t=this,e=t.options,i={};return!0!==t.options.showButtonClearFilter&&(i.key={name:e.getResource("workportal-my-search-remove-filter"),className:"ui-bizagi-clear-filters",callback:function(){return t._removeFilter(),!0}}),i.container={id:"checks_container",type:"container"},i.buttons={type:"contextMenuButtons"},i},_bindContextMenu:function(){var e=this,i=t(e.element),n="#"+t(".wgd-my-search-filter-pluggin",i).attr("id"),a=e._buildContextMenuItems();i.on("click",function(i){t(i.target).hasClass("remove-filter")&&t(".wgd-my-search-filter-pluggin .remove-filter",e.element).is(":visible")?e._removeFilter():t(n).contextMenu()}),i.contextMenu({selector:n,trigger:"none",items:a,events:{show:function(){e._disableApply();var i=t("#checks_container",e.$menuContext);return i.empty(),t.when(e.options.setData()).done(function(t){t=void 0!==t?t.defaultValues:e.options.data.defaultValues;for(var n,a=-1;n=t[++a];){var o=e.returnObject.value===n.id;""!=n.id&&""!=n.displayName&&i.append('<li><input data-displayname="'+n.displayName+'" type="radio" name="boolFilter" value="'+n.id+'" '+(o?"checked":"")+'><span class="context-menu-item-label-check">'+e.parseBoolean(n.displayName)+"</span></li>")}e._bindHandlers()})},hide:function(){}}})},_bindTooltip:function(){var e=this;e.filterValue=e.filterValue||[],t(e.element).tooltip({items:"#"+t("div",e.element).attr("id"),content:function(){if(0!==e.filterValue.length){var i=t("<div>");return t.each(e.filterValue,function(n,a){i.append(t("<div><label>"+e.parseBoolean(a)+"</label></div>"))}),i}return""}})},parseBoolean:function(t){var e=bizagi.clone(t);switch(0===e&&(e="0"),1===e&&(e="1"),e.toLowerCase||(e=e.toString()),e.toLowerCase()){case"not specified":e=bizagi.localization.getResource("workportal-general-value-undefined");break;default:e=bizagi.util.formatBoolean(e)}return e},_bindHandlers:function(){var e=this;t("input:radio",e.$menuContext).on("click",function(i){i.stopImmediatePropagation();var n=t(i.target);e.returnObject.value=n.attr("value"),e._enableApply()})},_resetValue:function(){this.returnObject.value=[]},_addFilterToDisplayName:function(){var e=this,i=t(".wgd-my-search-filter-pluggin span",e.element),n=i.text().split(":")[0]+": ";e.filterValue=[],t("input:checked",e.$menuContext).each(function(){e.filterValue.push(t(this).data("displayname")),n+=e.parseBoolean(t(this).data("displayname"))}),i.text(n),t(".wgd-my-search-filter-pluggin .remove-filter",e.element).show()},_setDisplayNameToDefault:function(){var e=t(".wgd-my-search-filter-pluggin span",this.element),i=e.text().split(":");this.filterValue=[],e.text(i[0])},_enableApply:function(){var e=t("#ui-bizagi-apply-filter",this.$menuContext);e.removeAttr("disabled"),e.removeClass("ui-state-disabled")},_disableApply:function(){var e=t("#ui-bizagi-apply-filter",this.$menuContext);e.attr("disabled","disabled"),e.addClass("ui-state-disabled")},_removeFilter:function(){var e=this,i=e.returnObject.properties.xpath;e.options.onClear([i]),e._setDisplayNameToDefault(),e._resetValue(),t(".wgd-my-search-filter-pluggin .remove-filter",e.element).hide()},setData:function(t){this.options.data=0===Object.getOwnPropertyNames(t).length?this.options.data:t},destroy:function(){t(this.element).contextMenu("destroy"),t.Widget.prototype.destroy.call(this)}})}(jQuery),function(t){t.fn.bizagiSearchUser=function(e){var i=this,n={},a=[],o=1,r=0,l={},s=(e=e||{}).editingUser,u={init:function(){u.bindElements()},bindElements:function(){i.click(function(){u.openUploadDialog()})},openUploadDialog:function(){window.document;var i=this.dialogBox=t("<div class='ui-bizagi-component-search-user'/>");l=i.dialog({width:950,maximize:!1,resize:!1,draggable:!1,height:650,title:e.title,modal:!0}),u.showFilters(),u.showButtons(),u.addHandlers()},showFilters:function(){var i=t("<div id='filtersContainer' class='filters-container clearfix'></div>");t.each(e.filters,function(n,a){t(i,l).append("<div class='filters-row clearfix'><div class='filters-cell'><span>"+e.displayNames[n]+"</span></div><div class='filters-cell'><input id="+a+" type='text'> </input></div></div>")}),i.appendTo(l)},showButtons:function(){var i=t("<div id='buttonsContainer'class='biz-wp-buttonset'></div>");if(t(i,l).append("<button id='btnSearchUsers' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-state-hover' role='button' aria-disabled='false'><span class='ui-button-text'>"+e.searchButtonName+"</span></button>"),t(i,l).append("<button id='btnClear' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-state-hover' role='button' aria-disabled='false'><span class='ui-button-text'>"+e.clearButtonName+"</span></button>"),e.allowAddUser){var n="<button id='btnNew' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-state-hover' role='button' aria-disabled='false'><span class='ui-button-text'>"+bizagi.localization.getResource("workportal-widget-admin-user-profiles-button-label-newUserProfiles")+"</span></button>";t(i,l).append(n),i.appendTo(l),t("#btnNew",l).bizagiCreateUser(e.dataService,e.renderFactory,{canvas:t(l),onCreate:e.selectItem(),onCancel:function(){t(l).dialog("option","title",e.title),t(l).empty(),u.showFilters(),u.showButtons(),u.addHandlers()}})}else i.appendTo(l)},addHandlers:function(){return t("#btnSearchUsers",l).click(function(){u.getUsersTableData()}),t("#btnClear",l).click(function(){u.clickClearPluginValues()}),this},clickClearPluginValues:function(){t.each(e.filters,function(e,i){t("#"+i,l).val("")}),t("#searchResults",l).remove()},getUsersTableData:function(){u.updateFiltersInformation();var i=e.searchUsers(n);t.when(i).done(function(t){Array.isArray(t.users)?(a=t.users,r=t.total,u.showUsersTable()):bizagi.showMessageBox(t.message,t.status,"","warning")}).fail(function(t){e.showError(t)})},updateFiltersInformation:function(){t.each(e.filters,function(e,i){n[i]=t("#"+i,l).val()}),n.pag=o,n.pagSize=9,void 0!==s&&""!==s&&(n.editingUser=s)},showUsersTable:function(){if(a.length>0){var i=r>1,n=u.getPagesArray();t("#searchResults",l).remove();var s=e.getTableTemplate(a,o,i,n);t(l).append(s),u.addTableHandlers(),u.setUpPagination()}else e.showMessageBox("workportal-widget-usertable-empty"),t("#searchResults",l).remove()},addTableHandlers:function(){t("table :button",l).click(function(){var i=t(this),n={};t.each(e.valuesToSelect,function(t,e){n[e]=i.data(e)}),e.selectItem().resolve(n),l.remove()})},getPagesArray:function(){for(var t=10>r?r:10,e=[],i=0;i<t;i++)e.push(i+1);return e},setUpPagination:function(){var e=this,i=t("#biz-wp-userstable-pager ul",l);i.bizagiPagination({maxElemShow:9,totalPages:r,actualPage:o,listElement:i,clickCallBack:function(t){n.pag=o=parseInt(t.page),e.getUsersTableData()}})}};return u.init(),u}}(jQuery),bizagi.workportal.widgets.widget.extend("bizagi.workportal.widgets.paginator",{},{init:function(t,e,i){this._super(t,e,i),this.loadTemplates({paginator:bizagi.getTemplate("bizagi.workportal.desktop.widget.paginator").concat("#paginator-wrapper"),content:bizagi.getTemplate("bizagi.workportal.desktop.widget.paginator").concat("#paginator-content")})},renderContent:function(){var t=this,e="ENTITY"===t.params.referenceType,i=t.getTemplate("paginator"+t.getSuffixWidget());return t.content=i.render({hide:e}),t.content},postRender:function(){this.sub("PAGINATOR-UPDATE",$.proxy(this.updateView,this)),this.configureHandlers()},getSuffixWidget:function(){return""},updateView:function(t,e){var i=this,n=e.args,a="ENTITY"===n.referenceType,o=i.getContent();function r(){i.getTemplate("content"+i.getSuffixWidget()).render({totalRecords:i.totalRecords,totalPages:i.totalPages,displayName:i.displayName,currentPage:i.currentPage,hide:a}).appendTo(o)}i.setModel(n),o.empty(),n.fromActionLauncher?i.totalRecords>1?r():i.clean():r()},setModel:function(t){var e=this;e.totalRecords=void 0===t.totalRecords?e.totalRecords:t.totalRecords,e.totalPages=t.totalPages||e.totalPages,e.displayName=t.histName||e.displayName,e.currentPage=t.currentPage||e.currentPage,e.action=t.action,e.reference=t.reference||e.reference,e.surrogateKey=t.surrogateKey||e.surrogateKey,e.referenceType=t.referenceType,e.event=t.event,e.guidSearch=t.guidSearch},getModel:function(){var t=this;return{page:t.currentPage,totalRecords:t.totalRecords,action:t.action,reference:t.reference,surrogateKey:t.surrogateKey,referenceType:t.referenceType,stopNavigation:!0,guidSearch:t.guidSearch}},configureHandlers:function(){this.getContent().on("click",$.proxy(this.onPageBreak,this))},onPageBreak:function(t){var e=this,i=$(t.target),n=e.getContent();if(i.hasClass("control-icon")&&!i.hasClass("ui-state-disabled")){var a=i.data("type");"forward"==a?e.currentPage+=1:"rewind"==a?e.currentPage-=1:e.currentPage="fastrewind"==a?1:e.totalPages,e.disabledPaginatorButtonsByLimits(),n.find(".paginator-controls__currentPage").text(e.currentPage),e.pub("notify",{type:"UPDATE-DATATEMPLATE-VIEW",args:e.getModel()})}},disabledPaginatorButtonsByLimits:function(){var t=this,e=$("[data-type='fastrewind']",t.content),i=$("[data-type='rewind']",t.content),n=$("[data-type='forward']",t.content),a=$("[data-type='fastforward']",t.content);1===t.totalPages?(e.addClass("ui-state-disabled"),i.addClass("ui-state-disabled"),n.addClass("ui-state-disabled"),a.addClass("ui-state-disabled")):1===t.currentPage?(e.addClass("ui-state-disabled"),i.addClass("ui-state-disabled"),n.removeClass("ui-state-disabled"),a.removeClass("ui-state-disabled")):t.currentPage===t.totalPages?(e.removeClass("ui-state-disabled"),i.removeClass("ui-state-disabled"),n.addClass("ui-state-disabled"),a.addClass("ui-state-disabled")):(e.removeClass("ui-state-disabled"),i.removeClass("ui-state-disabled"),n.removeClass("ui-state-disabled"),a.removeClass("ui-state-disabled"))},clean:function(){var t=this.getContent();t&&t.empty()}}),bizagi.injector.register("bizagi.workportal.widgets.paginator",["workportalFacade","dataService",bizagi.workportal.widgets.paginator]),bizagi.workportal.widgets.widget.extend("bizagi.workportal.widgets.sortbar",{},{init:function(t,e,i,n,a){this._super(t,e,a),this.loadTemplates({sortbar:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-wrapper"),content:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-content"),"right-content":bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-right"),addButton:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-content-add-button"),sortMenu:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-sort-menu"),actions:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-content-actions"),recordsPerPage:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-records-per-page"),recordsMenu:bizagi.getTemplate("bizagi.workportal.desktop.widget.sortbar").concat("#sortbar-records-menu")}),this.processActionService=i,this.accumulatedcontext=n},renderContent:function(){var t=this,e=t.getTemplate("sortbar");return t.content=e.render({enableFilter:!0}),t.$checkAll=t.content.find(".sortbar-left-check-uncheck input"),t.content},postRender:function(){var t=this.getTemplate("right-content");this.configureHandlers(),$(".sortbar-right",this.content).append(t.render()),this.configureAfterPaintHandlers()},configureHandlers:function(){var t=this,e=t.getContent();t.sub("TEMPLATEENGINE-VIEW",$.proxy(t.initializeAndProcessFilterButton,t)),t.sub("SEARCH-ENGINE-VIEW",$.proxy(t.initializeAndProcessFilterButton,t)),t.sub("SET-FILTERS-DATA",$.proxy(t.setFiltersSortData,t)),t.sub("HIDE-FILTER-BUTTONANDBAR",$.proxy(t.hideFilterButtonAndBar,t)),t.sub("HIDE-SORT-BUTTONS",$.proxy(t.hideSortButtons,t)),t.sub("ENABLE-BATCHS-ACTIONS",function(e,i){return t.enableBatchActions(i)}),t.sub("UPDATE-COUNTER-FILTERS-APPLIED",function(e,i){return t.updateCounterByFilterApplied(i)}),t.sub("CASES-TEMPLATE-VIEW",function(e,i){t.showingFiltering=!1,t.setVisibleCheckAll(!1),t.behaviorVisibleSortbar()}),t.sub("SOME-ITEM-ALLOW-SELECT",function(e,i){t.setVisibleCheckAll(!0),t.behaviorVisibleSortbar()}),t.sub("HIDE-CHECK-ALL",function(e,i){t.setVisibleCheckAll(!1)}),t.sub("BATCH-ACTIONS",function(e,i){return t.validActions(i.args.actionsData)}),e.find(".wgd-sortbar-add-button").tooltip(),t.$checkAll.on("click",$.proxy(t.onCheckUncheck,t))},configureAfterPaintHandlers:function(){var t=this,e=t.getContent();e.find(".right-menu").on("click",function(e){t.showSortMenu(e,$(this))}),e.find(".records-menu").on("click",function(e){t.showRecordsMenu(e,$(this))}),e.find(".sortbar-az").on("click",function(){t.sortSelection.attribute&&(t.setIconSortType($(this),t._sortType),t.pub("notify",{type:"SET-ORDERBY",args:{properties:{xpath:t.sortSelection.attribute,orderType:t._sortType,typeSearch:"none"}}}))}),e.find(".filter-icon").on("click",function(){t.pub("notify",{type:"OPENCLOSE-MYSEARCHFILTER",args:{guidSearch:t.params.guidSearch,target:$(this)}})}),$(".remove-selected-items-collections",e).on("click",$.proxy(t.onRemoveSelectedItemsCollections,t))},behaviorVisibleSortbar:function(){var t=this;t.showingFiltering||t.showingSorting||t.showingCheckAll||t._haveAddButton?t.setVisibleSortbar(!0):t.setVisibleSortbar(!1)},setVisibleSortbar:function(t){var e=this.getContent();t?e.show():e.hide()},setVisibleCheckAll:function(t){t?(this.$checkAll.closest(".border-check-uncheck").show(),this.showingCheckAll=!0):(this.$checkAll.closest(".border-check-uncheck").hide(),this.showingCheckAll=!1)},showSelectedItems:function(t){var e=this;if(t&&t>0){e.content.addClass("there-are-actions");var i=e.getResource("workportal-general-word-selected-singular");t>1&&(i=e.getResource("workportal-general-word-selected-plural")),$(".actions-count-selected",e.content).text(t+" "+i+" ")}else e.content.removeClass("there-are-actions")},setIconSortType:function(t,e){"asc"===e?(this._sortType="desc",t.removeClass("bz-icon-order-ascendant-outline").addClass("bz-icon-order-descendant-outline")):(this._sortType="asc",t.removeClass("bz-icon-order-descendant-outline").addClass("bz-icon-order-ascendant-outline"))},onClickBatchAction:function(t){var e=this,i=$(t.target).closest("li"),n=i.data("guid"),a=e.getAction(n);e.requestsInProgressActionGuid[n]||(e.requestsInProgressActionGuid[n]=!0,e.addLoadingButtonAction(i),$.when(e.processActionService.executeBatchAction({action:a,commonActionsmodel:e.commonActionsmodel})).always(function(){i.find(".wdg-tple-button").removeClass("state-loading"),i.find(".ui-bizagi-loading-button").remove(),i.find("i").show(),e.requestsInProgressActionGuid[n]=void 0}))},addLoadingButtonAction:function(t){t.find(".wdg-tple-button").addClass("state-loading"),t.find(".wdg-tple-button").prepend('<div class="ui-bizagi-loading-icon ui-bizagi-loading-button"></div>').find("i").hide()},onRemoveSelectedItemsCollections:function(){var t=this.pub("notify",{type:"SET-VALUES",args:{value:!1}})[0];this.enableBatchActions({args:{commonActions:t}})},showSortMenu:function(t,e){var i=this,n=i.getContent(),a=i.getTemplate("sortMenu").render({filters:i._filters},{displayValue:function(t){return t}});$(".sortbar-box-menu",e).length&&$(".sortbar-box-menu",e).remove(),e.append(a),a.show("fast",function(){a.click(function(t){t.stopPropagation()}),$(document).one("click",function(){a.hide("fast"),a.remove()})}),n.find(".sortbar-option").on("click",function(t){var o=$(t.currentTarget).data(),r=i._filters[o.index];n.find(".sortbar-az").removeClass("disabled"),i.sortSelection!=r&&(i.sortSelection=r,$(".sortbar-selected",e).text(i.sortSelection.display.split(".").pop()),i.pub("notify",{type:"SET-ORDERBY",args:{properties:{xpath:r.attribute,orderType:i._sortType,typeSearch:"none"}}})),a.hide("fast")})},showRecordsMenu:function(t,e){var i=this,n=i.getContent(),a=i.getTemplate("recordsMenu").render({});$(".sortbar-records-box-menu",e).length&&$(".sortbar-records-box-menu",e).remove(),e.append(a),a.show("fast",function(){a.click(function(t){t.stopPropagation()}),$(document).one("click",function(){a.hide("fast"),a.remove()})}),n.find(".sortbar-records-option").on("click",function(t){var n=Number(bizagi.util.trim(this.textContent));$(".sortbar-records-selected",e).text(n),i.pub("notify",{type:"SET-RECORDS",args:{pageSize:n}}),a.hide("fast")})},initializeAndProcessFilterButton:function(t,e){var i=this;i.showingFiltering=!1,i.setVisibleCheckAll(!1),i.behaviorVisibleSortbar(),i.restoreOrderSelected(),i.setIconSortType($(".sortbar-az",i.content),"desc"),i.params=e.args,i.sortSelection={},i.processAddButton(t,e)},processAddButton:function(t,e){var i=this,n=i.getContent(),a=e.args,o=a.action,r=n.find(".sortbar-left .add-button");i._lastReferenceEntity=a.reference,r.children().remove(),$(".wrapper-sortbar-actions",n).remove(),i._haveAddButton=!1,a.reference&&"ENTITY"!==a.referenceType?(r.startLoading({delay:0,overlay:!0}),i.dataService.getProcessAddAction(e).done(function(t){i._lastReferenceEntity===t.referenceEntity&&void 0!==t&&Object.getOwnPropertyNames(t).length>1&&t.guidEntity&&t.id&&i.renderButton(r,t)}).always(function(){r.endLoading()})):o&&i.renderButton(r,o)},renderButton:function(t,e){var i=this,n=i.getTemplate("addButton").render({action:e});t.empty(),n.appendTo(t),i._haveAddButton=!0,i.behaviorVisibleSortbar(),n.on("click",function(){i.clickAddButton(e)})},clickAddButton:function(t){var e=this;$.when(e.dataService.getMapping({guidEntity:t.guidEntity,accumulatedContext:e.accumulatedcontext.getContext({}),xpathContext:"Process"===t.type?t.xpathContext:""})).done(function(i){"Process"===t.type?e.onExecuteProcess(t,i):e.onExecuteForm(t,i)})},onCheckUncheck:function(t){var e=$(t.target).is(":checked"),i=this.pub("notify",{type:"SET-VALUES",args:{value:e}})[0];this.enableBatchActions({args:{commonActions:i}})},enableBatchActions:function(t){var e=this,i=t.args,n=e.commonActionsmodel=i.commonActions,a=e.validActions(n.actions);(a.length>0||e._haveAddButton)&&$(e.getContent()).show(),e.showBatchActions(a,n,"batchAction"),void 0!==n.checkAll&&e.$checkAll.prop("checked",n.checkAll)},showBatchActions:function(t,e,i){var n=this,a=n.getContent(),o=n.getTemplate("actions");n.showSelectedItems(Object.keys(e.itemsSelected).length);var r=t.slice(3,9999),l=o.render({actions:t.slice(0,3),moreActions:r,typeActions:i});$(".wdg-tple-button.batchAction",n.content).off("click",$.proxy(n.onClickBatchAction,n)),$(".wrapper-sortbar-actions",a).remove(),$(".sortbar-left .sortbar-menu",a).append(l),$(".wdg-tple-button.batchAction",n.content).on("click",$.proxy(n.onClickBatchAction,n)),r.length>0&&(n.content.data("ui-tooltip")&&$(n.content).tooltip("destroy"),$(n.content).tooltip({tooltipClass:"sortbar-tooltip-more-actions",items:".bz-actions-showmore",content:$(".template-box-tooltip",n.content).html(),open:function(t,e){$(".wdg-tple-button.batchAction",e.tooltip).on("click",$.proxy(n.onClickBatchAction,n));var i=$("div.ui-tooltip");if(void 0===t.originalEvent)return i.remove(),!1;var a=$(e.tooltip).attr("id");for(var o in i.not("#"+a).remove(),n.requestsInProgressActionGuid)if(n.requestsInProgressActionGuid[o]){var r=$("li[data-guid='"+o+"']",e.tooltip);n.addLoadingButtonAction(r)}},close:function(t,e){e.tooltip.hover(function(){$(this).stop(!0).fadeTo(400,1)},function(){$(this).fadeOut("400",function(){$(".wdg-tple-button.batchAction",this).off("click",$.proxy(n.onClickBatchAction,n)),$(this).remove()})})}}))},setFiltersSortData:function(t,e){var i=this,n=e.args.filtersAppliedCounter,a=e.args.totalRecords;if(i._filters=e.args.calculateFilters?e.args.filters:i._filters,e.args.calculateFilters){for(var o,r=-1,l=0,s=0;o=i._filters[++r];)"Text"!=o.type&&"Link"!==o.type&&o.data&&(o.data.defaultValues&&o.data.defaultValues.length>0||o.data.min&&o.data.max)&&l++,""!==o.display&&s++;a>0?(l>0?i.showFilterButton():i.hideFilterButton(),s>0?i.showSortButtons():i.hideSortButtons()):0===n&&(i.hideFilterButton(),i.hideSortButtons())}i.updateCounter(n)},showFilterButton:function(){$(".filter-icon",this.getContent()).show()},hideFilterButton:function(){$(".filter-icon",this.getContent()).hide(),this.showingFiltering=!1,this.behaviorVisibleSortbar()},showSortButtons:function(){var t=this;$(".sortbar-text",t.getContent()).show(),$(".sortbar-icon",t.getContent()).show(),$(".sortbar-az",t.getContent()).show(),t.showingSorting=!0,t.showingFiltering=!0,t.behaviorVisibleSortbar()},hideSortButtons:function(){var t=$(".sortbar-az",this.getContent());$(".sortbar-text",this.getContent()).hide(),t.addClass("disabled"),t.removeClass("bz-icon-order-ascendant-outline"),t.removeClass("bz-icon-order-descendant-outline"),t.addClass("bz-icon-order-ascendant-outline"),t.hide(),this.showingSorting=!1,this.behaviorVisibleSortbar()},restoreOrderSelected:function(){$(".sortbar-selected",this.getContent()).text(this.getResource("workportal-my-search-order-by"))},updateCounterByFilterApplied:function(t){t.args.filtersApplied&&this.updateCounter(t.args.filtersApplied.length)},updateCounter:function(t){var e=this.getContent(),i=$(".counter-filters-applied",e);t>0?(i.html(t),i.show()):i.hide()},hideFilterButtonAndBar:function(){this.showingFilter=!1,$(".filter-icon",this.getContent()).hide(),this.pub("notify",{type:"CLOSE-MYSEARCHFILTER",args:{show:!1,$target:null}})},onExecuteProcess:function(t,e){var i=this;t.startForm&&(t.hasStartForm=t.startForm),$.when(i.processActionService.executeProcessAction({action:t,mappingData:e})).done(function(e){(e=e||{})&&!1!==e.refreshTemplateData&&i.loadTemplateData(t)})},loadTemplateData:function(t){this.pub("notify",{type:"TEMPLATEENGINE-VIEW",args:{action:t,isRefresh:!0}})},onExecuteForm:function(t,e){var i=this;$.when(i.processActionService.executeFormAction({action:t,mappingData:e})).done(function(e){e.refresh&&i.pub("notify",{type:"UPDATE-DATATEMPLATE-VIEW",args:{action:t,isRefresh:!0,calculateFilters:!0}})})},getAction:function(t){return this.commonActionsmodel.actions.filter(function(e){return e.id==t})[0]},validActions:function(t){return $.grep(t,function(t){return 2==t.multiplicity||"Collection"!=t.mode&&("Form"!=t.type&&(!t.isEvent&&("Process"!=t.type||!t.hasStartForm)))})},clean:function(){var t=this,e=t.getContent();t.requestsInProgressActionGuid={},e&&(t.unsub("TEMPLATEENGINE-VIEW"),t.unsub("ENABLE-BATCHS-ACTIONS"),t.unsub("SEARCH-ENGINE-VIEW"),t.unsub("SET-FILTERS-DATA"),t.unsub("HIDE-FILTER-BUTTONANDBAR"),t.unsub("HIDE-SORT-BUTTONS"),t.$checkAll.off("click"),e.find(".right-menu").off("click"),e.find(".sortbar-az").off("click"),e.find(".filter-icon").off("click"),e.find(".sortbar-action").off("click"),$(".wdg-tple-button.batchAction",e).off("click",$.proxy(t.onClickBatchAction,t)),$(".remove-selected-items-collections",e).off("click",$.proxy(t.onRemoveSelectedItemsCollections,t)))}}),bizagi.injector.register("bizagi.workportal.widgets.sortbar",["workportalFacade","dataService","processActionService","accumulatedcontext",bizagi.workportal.widgets.sortbar]),bizagi.workportal.widgets.widget.extend("bizagi.workportal.widgets.mysearchfilter",{init:function(t,e,i,n){var a=this;a.params={},a._super(t,e,n),a.loadTemplates({mysearchfilter:bizagi.getTemplate("bizagi.workportal.desktop.widget.mysearchfilter").concat("#mysearchfilter-wrapper"),"mysearchfilter-item":bizagi.getTemplate("bizagi.workportal.desktop.widget.mysearchfilter").concat("#mysearchfilter-item")}).done(function(){a.filterItem=a.getTemplate("mysearchfilter-item")}),a.processActionService=i,a.filtersApplied=[],a.filters=[]},renderContent:function(){return this.content=this.getTemplate("mysearchfilter").render({}),this.content.hide(),this.content},postRender:function(){this.configureHandlers()},initializeMySearchFilter:function(t,e){var i=this,n=i.getContent();i.criteriaSearchApplied=e.args.filters?bizagi.clone(e.args.filters):[],i.filtersApplied=[],i.filterControlArray=[],i.orderBy={},$(".mysearchfilter-list",n).empty()},configureHandlers:function(){var t=this;t.sub("TEMPLATEENGINE-VIEW",$.proxy(t.initializeMySearchFilter,t)),t.sub("SEARCH-ENGINE-VIEW",$.proxy(t.initializeMySearchFilter,t)),t.sub("OPENCLOSE-MYSEARCHFILTER",$.proxy(t.toggleWidget,t)),t.sub("CLOSE-MYSEARCHFILTER",$.proxy(t.openCloseWidget,t)),t.sub("SET-FILTERS-DATA",$.proxy(t.setFiltersData,t)),t.sub("SET-ORDERBY",$.proxy(t.setOrderBy,t)),t.sub("SET-RECORDS",$.proxy(t.setRecordsPerPage,t))},setFiltersData:function(t,e){var i=this;if(e.args.defaultFilterApplied){e.args.filtersApplied=e.args.filtersApplied||[];var n=e.args.filtersApplied.filter(function(t){return void 0!==t.properties});i.filtersApplied=n}if(e.args.calculateFilters){for(var a=i.getContent(),o=$(".mysearchfilter-list",a),r=e.args.filters,l=e.args.filtersAppliedCounter,s=-1,u=0;p=r[++s];)if("Text"!=p.type&&"Link"!==p.type&&p.data&&(p.data.defaultValues&&p.data.defaultValues.length>0||p.data.min&&p.data.max)){u++;break}if(0===e.args.totalRecords&&0===l?i.openCloseWidget({show:!1}):0===u?i.openCloseWidget({show:!1}):i.openCloseWidget({show:!0}),i.filterControlArray&&0===i.filterControlArray.length)for(s=-1;p=r[++s];){p.tmplid=p.attribute.replaceAll(".","-"),i.filtersApplied.filter(function(t){return t.properties.type===p.type.toLowerCase()&&t.properties.xpath===p.tmplid}).length>0?p.filterApplied="filter-applied":p.filterApplied="";var c=i.filterItem.render(p);"Text"!==p.type&&"Link"!==p.type&&p.data&&(p.data.defaultValues&&p.data.defaultValues.length>0||p.data.min&&p.data.max)&&(o.append(c),i.buildFilter(c,p),"filter-applied"===p.filterApplied&&$(".remove-filter",c).show())}else if(i.filterControlArray&&i.filterControlArray.length>0){var p;for(s=-1;p=i.filterControlArray[++s];){var d=r.find(function(t){return t.attribute===p.xpath});d&&i.setFilterData(p,d)}}}$(".filters-loading",i.content).hide()},toggleWidget:function(t,e){var i=this.getContent().is(":visible");this.openCloseWidget({show:!i,$target:e.args.target})},openCloseWidget:function(t){var e=this.getContent(),i=t.$target||$("<div>");t.show?(i.addClass("opened"),e.show()):(i.removeClass("opened"),e.hide(),$("button#ui-bizagi-cancel-filter").click())},buildFilter:function(t,e){var i=this;switch(e.type){case"Entity":i.buildFilterMultiple(t,e);break;case"Number":i.buildFilterNumber(t,e);break;case"Money":i.buildFilterMoney(t,e);break;case"Datetime":i.buildFilterDate(t,e);break;case"Boolean":i.buildFilterBoolean(t,e)}},setFilterData:function(t,e){switch(t.type){case"Entity":t.widget.multiple("setData",e.data);break;case"Number":t.widget.number("setData",e.data);break;case"Money":t.widget.money("setData",e.data);break;case"Datetime":t.widget.dateFilter("setData",e.data);break;case"Boolean":t.widget.booleanFilter("setData",e.data)}},buildFilterMoney:function(t,e){var i=this,n=t.money({showButtonClearFilter:!0,numericFormat:i.getResource("numericFormat"),properties:e,data:e.data,onApply:function(t,e){i.addFilterSelection(t),i.triggerFilter({calculateFilters:!0})},onClear:function(t){i.removeFilterApplied(t),i.triggerFilter({calculateFilters:!0})},getResource:function(t){return bizagi.localization.getResource(t)}});i.filterControlArray.push({type:e.type,xpath:e.attribute,widget:n})},buildFilterNumber:function(t,e){var i=this,n=t.number({showButtonClearFilter:!0,numericFormat:i.getResource("numericFormat"),properties:e,data:e.data,onApply:function(t,e){0!==t.length&&(i.addFilterSelection(t),i.triggerFilter({calculateFilters:!0}))},onClear:function(t){i.removeFilterApplied(t),i.triggerFilter({calculateFilters:!0})},getResource:function(t){return bizagi.localization.getResource(t)}});i.filterControlArray.push({type:e.type,xpath:e.attribute,widget:n})},buildFilterDate:function(t,e){var i=this,n=t.dateFilter({showButtonClearFilter:!0,properties:e,onApply:function(t,e){i.addFilterSelection(t),i.triggerFilter({calculateFilters:!0})},onClear:function(t){i.removeFilterApplied(t),i.triggerFilter({calculateFilters:!0})},getResource:function(t){return i.getResource(t)}});i.filterControlArray.push({type:e.type,xpath:e.attribute,widget:n})},buildFilterMultiple:function(t,e){var i=this,n=t.multiple({showButtonClearFilter:!0,properties:e,data:e.data,onApply:function(t,e){i.addFilterSelection(t),i.triggerFilter({calculateFilters:!0})},onClear:function(t){i.removeFilterApplied(t),i.triggerFilter({calculateFilters:!0})},getResource:function(t){return bizagi.localization.getResource(t)}});i.filterControlArray.push({type:e.type,xpath:e.attribute,widget:n})},buildFilterBoolean:function(t,e){var i=this,n=t.booleanFilter({showButtonClearFilter:!0,properties:e,data:e.data,onApply:function(t,e){i.addFilterSelection(t),i.triggerFilter({calculateFilters:!0})},onClear:function(t){i.removeFilterApplied(t),i.triggerFilter({calculateFilters:!0})},getResource:function(t){return bizagi.localization.getResource(t)}});i.filterControlArray.push({type:e.type,xpath:e.attribute,widget:n})},addFilterSelection:function(t){$(".filters-loading",this.content).show();for(var e=0,i=t.length;e<i;e++)this.removeFilterApplied([t[e].properties.xpath]),this.filtersApplied.push(t[e])},removeFilterApplied:function(t){$(".filters-loading",this.content).show();for(var e,i=-1;e=t[++i];){var n=this.filtersApplied.find(function(t){return t.properties.xpath===e});n&&this.filtersApplied.splice(this.filtersApplied.indexOf(n),1)}},setOrderBy:function(t,e){this.orderBy=e.args,this.triggerFilter({calculateFilters:!1})},setRecordsPerPage:function(t,e){this.triggerFilter({calculateFilters:!1,pageSize:e.args&&e.args.pageSize})},triggerFilter:function(t){for(var e,i=this,n=i.criteriaSearchApplied?bizagi.clone(i.criteriaSearchApplied):[],a=i.filtersApplied.slice(),o=[],r=-1;e=a[++r];)i.dataService.defineFilterObject(e,n),i.dataService.defineFilterObject(e,o);var l=o.length;i.orderBy.properties&&i.dataService.defineFilterObject(i.orderBy,n);var s={type:"UPDATE-DATATEMPLATE-VIEW",args:{filters:n,page:1,level:1,calculateFilters:t.calculateFilters||!1,defaultFilterApplied:!1,typeSearch:"filter",filtersAppliedCounter:l,pageSize:t.pageSize||10}};i.pub("notify",s)}}),bizagi.injector.register("bizagi.workportal.widgets.mysearchfilter",["workportalFacade","dataService","processActionService",bizagi.workportal.widgets.mysearchfilter],!1);
//# sourceMappingURL=../../../../Maps/desktop/templateengine-view.desktop.production.js.map
